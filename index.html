<!DOCTYPE html>

<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÉ‡∏ö‡∏•‡∏≤ | ‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏ö‡∏•‡∏≤‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    
    <script src="https://unpkg.com/lucide@latest"></script>

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Prompt', 'Inter', 'sans-serif'],
                    },
                    colors: {
                        border: "hsl(var(--border))",
                        input: "hsl(var(--input))",
                        ring: "hsl(var(--ring))",
                        background: "hsl(var(--background))",
                        foreground: "hsl(var(--foreground))",
                        primary: {
                            DEFAULT: "hsl(var(--primary))",
                            foreground: "hsl(var(--primary-foreground))",
                        },
                        secondary: {
                            DEFAULT: "hsl(var(--secondary))",
                            foreground: "hsl(var(--secondary-foreground))",
                        },
                        muted: {
                            DEFAULT: "hsl(var(--muted))",
                            foreground: "hsl(var(--muted-foreground))",
                        },
                        card: {
                            DEFAULT: "hsl(var(--card))",
                            foreground: "hsl(var(--card-foreground))",
                        },
                    },
                    borderRadius: {
                        lg: "var(--radius)",
                        md: "calc(var(--radius) - 2px)",
                        sm: "calc(var(--radius) - 4px)",
                    }
                }
            }
        }
    </script>

    <style>
        form {
      background: #e77c9c;
      padding: 20px;
      max-width: 500px;
      min-height: 100vh;
      margin: auto;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(190, 175, 175, 0.1);
      box-sizing: border-box;
      overflow-y: auto;
        }

       body {
    font-family: 'Prompt', 'Inter', sans-serif;
    background-image: url("strawberry-bg.jpg");
    background-repeat: repeat;
    background-size: auto;   /* ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡∏•‡∏≤‡∏¢ */
    height: auto;
}


        .gradient-primary {
            background: linear-gradient(135deg, hsl(325, 100%, 78%) 0%, hsl(258, 96%, 78%) 100%);
        }

        .shadow-soft {
            box-shadow: 0 4px 20px -4px hsl(221 83% 53% / 0.15);
        }

        /* Animation Classes */
        .animate-fade-in { animation: fadeIn 0.5s ease-out forwards; opacity: 0; }
        .animate-slide-up { animation: slideUp 0.6s ease-out forwards; opacity: 0; }
        .animate-float { animation: float 6s ease-in-out infinite; }
        .animate-pulse-custom { animation: pulse 2s infinite ease-in-out; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }

        /* Pattern Background */
        .pattern-bg {
            background-image: 
                radial-gradient(circle at 25% 25%, hsl(221 83% 53% / 0.03) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, hsl(258 89% 66% / 0.03) 0%, transparent 50%);
        }
    </style>
</head>
<body class="py-8 px-4">
    <body class="min-h-screen bg-cover bg-center relative">
<div class="absolute top-0 left-1/2 -translate-x-1/2 flex flex-col items-center text-center pt-8 z-10">

  <!-- ‡∏ï‡∏£‡∏≤ -->
  <img src="‡∏ï‡∏£‡∏≤‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô.png"
       alt="‡∏ï‡∏£‡∏≤‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô"
       class="w-[160px] h-auto mb-4">


    <div class="w-full max-w-md mx-auto form-card">
        <div class="absolute -top-40 -right-40 w-80 h-80 bg-primary/5 rounded-full blur-3xl animate-float"></div>
        <div class="absolute -bottom-40 -left-40 w-96 h-96 bg-secondary/5 rounded-full blur-3xl animate-float" style="animation-delay: 3s;"></div>
    </div>

    <div class="relative z-10 container max-w-lg mx-auto">
        <header class="text-center mb-8 animate-fade-in">
           
            </div>
            <h1 class="text-3xl md:text-4xl font-bold text-foreground mb-2">
                ‡πÉ‡∏ö‡∏•‡∏≤‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
            </h1>
            <p class="text-muted-foreground">
                ‡∏Å‡∏£‡∏≠‡∏Å‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÅ‡∏•‡∏∞‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÉ‡∏ö‡∏•‡∏≤‡πÄ‡∏õ‡πá‡∏ô PDF ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
            </p>
        </header>

        <div class="w-full bg-white rounded-xl border border-border shadow-soft overflow-hidden animate-slide-up">
            <div class="gradient-primary text-primary-foreground pb-8 pt-8 px-6">
                <div class="flex items-center justify-center mb-4">
                    <div class="w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center backdrop-blur-sm">
                        <i data-lucide="file-text" class="w-8 h-8 text-white"></i>
                    </div>
                </div>
                <h2 class="text-2xl font-semibold text-center text-white">‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÉ‡∏ö‡∏•‡∏≤</h2>
                <p class="text-white/80 text-center text-sm mt-2">‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏ö‡∏•‡∏≤‡∏Ç‡∏≠‡∏á‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</p>
            </div>

            <div class="p-6 space-y-5">
                <div class="space-y-2 animate-fade-in" style="animation-delay: 0.1s;">
                    <label for="studentName" class="flex items-center gap-2 text-foreground font-medium text-sm">
                        <i data-lucide="user" class="w-4 h-4 text-primary"></i>
                        ‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
                    </label>
                    <input type="text" id="studentName" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•" 
                        class="flex h-12 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 transition-all duration-300">
                </div>

                <div class="space-y-2 animate-fade-in" style="animation-delay: 0.2s;">
                    <label for="studentClass" class="flex items-center gap-2 text-foreground font-medium text-sm">
                        <i data-lucide="graduation-cap" class="w-4 h-4 text-primary"></i>
                        ‡∏ä‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
                    </label>
                    <input type="text" id="studentClass" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏°.3/1" 
                        class="flex h-12 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 transition-all duration-300">
                </div>

                <div class="space-y-2 animate-fade-in" style="animation-delay: 0.3s;">
                    <label for="teacherName" class="flex items-center gap-2 text-foreground font-medium text-sm">
                        <i data-lucide="user-check" class="w-4 h-4 text-primary"></i>
                        ‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏£‡∏π‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ä‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
                    </label>
                    <input type="text" id="teacherName" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏£‡∏π‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ä‡∏±‡πâ‡∏ô" 
                        class="flex h-12 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 transition-all duration-300">
                </div>

                <div class="space-y-2 animate-fade-in" style="animation-delay: 0.4s;">
                    <label for="leaveType" class="flex items-center gap-2 text-foreground font-medium text-sm">
                        <i data-lucide="alert-circle" class="w-4 h-4 text-primary"></i>
                        ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏•‡∏≤
                    </label>
                    <div class="relative">
                        <select id="leaveType" class="flex h-12 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 appearance-none">
                            <option value="" disabled selected>-- ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏•‡∏≤ --</option>
                            <option value="‡∏•‡∏≤‡∏õ‡πà‡∏ß‡∏¢">üè• ‡∏•‡∏≤‡∏õ‡πà‡∏ß‡∏¢</option>
                            <option value="‡∏•‡∏≤‡∏Å‡∏¥‡∏à">üìã ‡∏•‡∏≤‡∏Å‡∏¥‡∏à</option>
                            <option value="‡∏≠‡∏∑‡πà‡∏ô‡πÜ">üìù ‡∏≠‡∏∑‡πà‡∏ô‡πÜ</option>
                        </select>
                        <i data-lucide="chevron-down" class="absolute right-3 top-3.5 h-4 w-4 opacity-50 pointer-events-none"></i>
                    </div>
                </div>

                <div class="grid grid-cols-2 gap-4 animate-fade-in" style="animation-delay: 0.5s;">
                    <div class="space-y-2">
                        <label for="fromDate" class="flex items-center gap-2 text-foreground font-medium text-sm">
                            <i data-lucide="calendar" class="w-4 h-4 text-primary"></i>
                            ‡∏ß‡∏±‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏•‡∏≤
                        </label>
                        <input type="date" id="fromDate" 
                            class="flex h-12 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2">
                    </div>
                    <div class="space-y-2">
                        <label for="toDate" class="flex items-center gap-2 text-foreground font-medium text-sm">
                            <i data-lucide="calendar" class="w-4 h-4 text-secondary"></i>
                            ‡∏ß‡∏±‡∏ô‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î
                        </label>
                        <input type="date" id="toDate" 
                            class="flex h-12 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2">
                    </div>
                </div>

                <div class="space-y-2 animate-fade-in" style="animation-delay: 0.6s;">
                    <label for="reason" class="flex items-center gap-2 text-foreground font-medium text-sm">
                        <i data-lucide="file-text" class="w-4 h-4 text-primary"></i>
                        ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏•‡∏≤
                    </label>
                    <textarea id="reason" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏õ‡πà‡∏ß‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏Ç‡πâ ‡∏°‡∏µ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏ß‡∏£‡πâ‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏à‡πá‡∏ö‡∏Ñ‡∏≠..." 
                        class="flex min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-none"></textarea>
                </div>

                <div class="space-y-2 animate-fade-in" style="animation-delay: 0.7s;">
                    <label for="files" class="flex items-center gap-2 text-foreground font-medium text-sm">
                        <i data-lucide="paperclip" class="w-4 h-4 text-primary"></i>
                        ‡πÅ‡∏ô‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô
                    </label>
                    <input id="files" type="file" accept="image/*,.pdf" multiple
                        class="flex w-full h-12 rounded-md border border-input bg-background px-3 py-2 text-sm text-foreground file:border-0 file:bg-primary/10 file:text-primary file:text-sm file:font-medium file:mr-4 file:px-4 file:py-1 file:rounded-md hover:file:bg-primary/20 transition-all cursor-pointer">
                    <p class="text-xs text-muted-foreground">‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏†‡∏≤‡∏û ‡πÅ‡∏•‡∏∞ PDF (‡πÉ‡∏ö‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡πÅ‡∏û‡∏ó‡∏¢‡πå ‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡πÜ)</p>
                </div>

                <button onclick="generatePDF()" id="submitBtn" class="w-full h-14 inline-flex items-center justify-center whitespace-nowrap rounded-md text-lg font-semibold ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 gradient-primary text-primary-foreground hover:opacity-90 shadow-soft hover:shadow-glow mt-6 animate-fade-in gap-2" style="animation-delay: 0.8s;">
                    <i data-lucide="download" class="w-5 h-5"></i>
                    ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏ö‡∏•‡∏≤ (PDF)
                </button>

                <div class="flex items-center justify-center gap-2 text-muted-foreground text-sm pt-2 animate-fade-in" style="animation-delay: 0.9s;">
                    <i data-lucide="check-circle-2" class="w-4 h-4 text-green-500"></i>
                    <span>‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ ‚Ä¢ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏à‡∏±‡∏î‡πÄ‡∏Å‡πá‡∏ö</span>

                    <button id="shareButton" style="
                background:#06C755;
                color:white;
                padding:10px 20px;
                border:none;
                border-radius:8px;
                cursor:pointer;
                margin-top:10px;
                display:none;">
                üì§ ‡πÅ‡∏ä‡∏£‡πå‡πÑ‡∏õ‡∏´‡∏≤‡∏Ñ‡∏£‡∏π
                </button>
                </div>
            </div>
        </div>

        <footer class="text-center mt-8 text-muted-foreground text-sm animate-fade-in" style="animation-delay: 1s;">
            <p>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢ ‚ù§Ô∏è ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</p>
        </footer>
    </div>

    <script>

        // Initialize Icons
        lucide.createIcons();

        // Format Date Function
        function formatThaiDate(dateStr) {
            if (!dateStr) return "";
            const date = new Date(dateStr);
            const thaiMonths = [
                "‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏°", "‡∏Å‡∏∏‡∏°‡∏†‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå", "‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏°", "‡πÄ‡∏°‡∏©‡∏≤‡∏¢‡∏ô", "‡∏û‡∏§‡∏©‡∏†‡∏≤‡∏Ñ‡∏°", "‡∏°‡∏¥‡∏ñ‡∏∏‡∏ô‡∏≤‡∏¢‡∏ô",
                "‡∏Å‡∏£‡∏Å‡∏é‡∏≤‡∏Ñ‡∏°", "‡∏™‡∏¥‡∏á‡∏´‡∏≤‡∏Ñ‡∏°", "‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô", "‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏°", "‡∏û‡∏§‡∏®‡∏à‡∏¥‡∏Å‡∏≤‡∏¢‡∏ô", "‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏°"
            ];
            const day = date.getDate();
            const month = thaiMonths[date.getMonth()];
            const year = date.getFullYear() + 543;
            return `${day} ${month} ${year}`;
        }

        // Generate PDF Function
        async function generatePDF() {
            const studentName = document.getElementById('studentName').value;
            const studentClass = document.getElementById('studentClass').value;
            const teacherName = document.getElementById('teacherName').value;
            const leaveType = document.getElementById('leaveType').value;
            const fromDate = document.getElementById('fromDate').value;
            const toDate = document.getElementById('toDate').value;
            const reason = document.getElementById('reason').value;

            // Simple Validation
            if (!studentName || !studentClass || !teacherName || !leaveType || !fromDate || !toDate || !reason) {
                alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô");
                return;
            }


            const btn = document.getElementById('submitBtn');
            const originalText = btn.innerHTML;
            btn.innerHTML = '<span class="animate-spin mr-2">‚ü≥</span> ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á...';
            btn.disabled = true;

            try {
                // Initialize jsPDF
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF();
                
                // ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢: 
                // jsPDF ‡πÅ‡∏ö‡∏ö CDN ‡∏õ‡∏Å‡∏ï‡∏¥‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏Ç‡∏¢‡∏∏‡∏Å‡∏Ç‡∏¢‡∏¥‡∏Å
                // ‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢ ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏ü‡∏•‡πå Font .ttf ‡∏ó‡∏µ‡πà‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô base64 ‡πÅ‡∏•‡πâ‡∏ß‡∏•‡∏á‡πÑ‡∏õ
                // ‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡∏µ‡πâ ‡∏ú‡∏°‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÇ‡∏Ñ‡πâ‡∏î‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏Å‡πà‡∏≠‡∏ô
                // ‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡∏à‡∏£‡∏¥‡∏á‡πÜ ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ library ‡πÄ‡∏™‡∏£‡∏¥‡∏°‡πÄ‡∏ä‡πà‡∏ô pdfmake ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° custom font ‡πÉ‡∏´‡πâ jsPDF
                doc.addFileToVFS("THSarabunNew.ttf", thSarabunNewFont);
                doc.addFont("THSarabunNew.ttf", "THSarabunNew", "normal");
                doc.setFont("THSarabunNew");

                doc.setFont("helvetica", "bold");
                doc.setFontSize(20);
                doc.text("Leave Request Form", 105, 30, { align: "center" });

                doc.setFont("helvetica", "normal");
                doc.setFontSize(12);

                let yPos = 50;
                const lineHeight = 10;

                // ‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ç‡∏≠‡∏á jsPDF ‡∏Å‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î Client-side HTML ‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤
                // ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÄ‡∏õ‡πá‡∏ô Transliteration ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏≠‡∏Å‡∏°‡∏≤ (‡∏ã‡∏∂‡πà‡∏á‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏ó‡∏¢‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á 100% ‡πÉ‡∏ô Standard Font)
                
                doc.text(`Student Name: ${studentName}`, 20, yPos); yPos += lineHeight;
                doc.text(`Class: ${studentClass}`, 20, yPos); yPos += lineHeight;
                doc.text(`Teacher: ${teacherName}`, 20, yPos); yPos += lineHeight;
                doc.text(`Leave Type: ${leaveType}`, 20, yPos); yPos += lineHeight;
                doc.text(`From: ${fromDate} To: ${toDate}`, 20, yPos); yPos += lineHeight;
                
                // ‡∏ï‡∏±‡∏î‡∏Ñ‡∏≥‡∏¢‡∏≤‡∏ß‡πÜ ‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•
                const splitReason = doc.splitTextToSize(`Reason: ${reason}`, 170);
                doc.text(splitReason, 20, yPos);

                const pdfBlob = doc.output("blob");
                doc.save(`levae-request-${studentName}.pdf`);
                showShareButton(pdfBlob);


            } catch (error) {
                console.error(error);
                alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á PDF");
            } finally {
                btn.innerHTML = originalText;
                btn.disabled = false;
            }
        }
             </script>
                <!-- ‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏ä‡∏£‡πå -->
                
                
<script>
const shareButton = document.getElementById("shareButton");

function showShareButton(pdfBlob) {
  shareButton.style.display = "block";
  shareButton.onclick = () => sharePDF(pdfBlob);
}

async function sharePDF(pdfBlob) {
  const file = new File([pdfBlob], "‡πÉ‡∏ö‡∏•‡∏≤‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô.pdf", {
    type: "application/pdf"
  });

  if (navigator.canShare && navigator.canShare({ files: [file] })) {
    await navigator.share({
      title: "‡πÉ‡∏ö‡∏•‡∏≤‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô",
      text: "‡∏™‡πà‡∏á‡πÉ‡∏ö‡∏•‡∏≤‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏π‡∏Ñ‡πà‡∏∞/‡∏Ñ‡∏£‡∏±‡∏ö",
      files: [file]
    });
  } else {
    alert("‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏ä‡∏£‡πå‡πÑ‡∏ü‡∏•‡πå");
  }
}
</script>
</body>
</html>